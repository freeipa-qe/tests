<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title>IPA winsync test plan</title>
</head>
<body>
<h1 class="firstHeading">IPA Winsync test plan</h1>
<h3 id="siteSub">From Wiki</h3>
<div id="jump-to-nav">Jump to: <a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#column-one">navigation</a>,
<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#searchInput">search</a></div>
<!-- start content -->
<p><small><b> IPA winsync test plan is based on DS Winsync test plan </b></small>
</p>
<table style="width: 75%;" border="1">
  <tbody>
    <tr>
      <th
 style="background: crimson none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Approval By
      </th>
      <th
 style="background: crimson none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Date
      </th>
    </tr>
    <tr>
      <td>&lt;replace me&gt;
      </td>
      <td>&lt;replace me&gt;
      </td>
    </tr>
    <tr>
      <td colspan="2"
 style="background: crimson none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: silver;">
Revision History
      </td>
    </tr>
    <tr>
      <td> IPA winsync test plan
      </td>
      <td><br>
      </td>
    </tr>
    <tr>
      <td> ver 0.1 , yi zhang
      </td>
      <td> Sept. 11, 2008
      </td>
    </tr>
    <tr>
      <td> ver 0.9 , yi zhang
      </td>
      <td> Sept. 16, 2008
      </td>
    </tr>
    <tr>
      <td> ver 1.0 , yi zhang
      </td>
      <td> Sept. 26, 2008
      </td>
    </tr>
  </tbody>
</table>
<p><br>
</p>
<table id="toc" class="toc" summary="Contents">
  <tbody>
    <tr>
      <td>
      <div id="toctitle">
      <h2>Contents</h2>
      <span class="toctoggle">[<a href="javascript:toggleToc()"
 class="internal" id="togglelink">hide</a>]</span></div>
      <ul>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Feature_Overview"><span
 class="tocnumber">1</span> <span class="toctext">Feature Overview</span></a>
          <ul>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#RHDS_feature_overview"><span
 class="tocnumber">1.1</span> <span class="toctext">RHDS feature
overview</span></a></li>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_feature_overview"><span
 class="tocnumber">1.2</span> <span class="toctext">IPA feature
overview</span></a></li>
          </ul>
        </li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Test_Approach"><span
 class="tocnumber">2</span> <span class="toctext">Test Approach</span></a></li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Test_Environment_Setup"><span
 class="tocnumber">3</span> <span class="toctext">Test Environment
Setup</span></a>
          <ul>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#DS_winsync_test_environment_setup"><span
 class="tocnumber">3.1</span> <span class="toctext">DS winsync test
environment setup</span></a></li>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_winsync_test_environment_setup"><span
 class="tocnumber">3.2</span> <span class="toctext">IPA winsync test
environment setup</span></a></li>
          </ul>
        </li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Test_Cases"><span
 class="tocnumber">4</span> <span class="toctext">Test Cases</span></a>
          <ul>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#RHDS_acceptance_test_cases"><span
 class="tocnumber">4.1</span> <span class="toctext">RHDS acceptance
test cases</span></a></li>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_test_cases"><span
 class="tocnumber">4.2</span> <span class="toctext">IPA test cases</span></a>
              <ul>
                <li class="toclevel-3"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_Winsync_plugin_Smoke_test_cases_.28safe-0.29"><span
 class="tocnumber">4.2.1</span> <span class="toctext">IPA Winsync
plugin Smoke test cases (safe-0)</span></a></li>
                <li class="toclevel-3"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_Winsync_plugin_Acceptance_test_cases_.28safe-1.29"><span
 class="tocnumber">4.2.2</span> <span class="toctext">IPA Winsync
plugin Acceptance test cases (safe-1)</span></a></li>
                <li class="toclevel-3"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_Winsync_plugin_Functional_test_cases_.28safe-2.29"><span
 class="tocnumber">4.2.3</span> <span class="toctext">IPA Winsync
plugin Functional test cases (safe-2)</span></a></li>
                <li class="toclevel-3"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_winsync_plugin_Extended_functional_test_cases_.28safe-3.29"><span
 class="tocnumber">4.2.4</span> <span class="toctext">IPA winsync
plugin Extended functional test cases (safe-3)</span></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Additional_Test"><span
 class="tocnumber">5</span> <span class="toctext">Additional Test</span></a></li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#What_won.27t_be_Tested"><span
 class="tocnumber">6</span> <span class="toctext">What won't be Tested</span></a></li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Resources"><span
 class="tocnumber">7</span> <span class="toctext">Resources</span></a>
          <ul>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Active_Directory_.28AD.29_Requirement"><span
 class="tocnumber">7.1</span> <span class="toctext">Active Directory
(AD) Requirement</span></a></li>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA_winsync_requirements"><span
 class="tocnumber">7.2</span> <span class="toctext">IPA winsync
requirements</span></a></li>
          </ul>
        </li>
        <li class="toclevel-1"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#Supplements"><span
 class="tocnumber">8</span> <span class="toctext">Supplements</span></a>
          <ul>
            <li class="toclevel-2"><a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA-AD_winsync_environment_setup"><span
 class="tocnumber">8.1</span> <span class="toctext">IPA-AD winsync
environment setup</span></a></li>
          </ul>
        </li>
      </ul>
      </td>
    </tr>
  </tbody>
</table>
<script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script><a
 name="Feature_Overview"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=1"
 title="Edit section: Feature Overview">edit</a>]</span> <span
 class="mw-headline"> Feature Overview </span></h2>
<a name="RHDS_feature_overview"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=2"
 title="Edit section: RHDS feature overview">edit</a>]</span> <span
 class="mw-headline"> RHDS feature overview </span></h3>
<p>The WindowsUserSync will be a plugin and appear to the server like a
replication consumer. The plugin will then send updates via DirSync to
the AD. The DS can also poll AD for user/group entry updates. Password
updates, however, will be sent back to RedHat Directory Server from AD
by means of a password hook, installed on each domain controller. This
is the "RedHat Password Synchronization" service.
</p>
<p>There is currently no design doc for this feature. For more
detailed overview and illustrating diagrams please refer to Chapter 18,
Windows Sync, of the DS Administrator's Guide. The account
synchronization consist of three key areas, each area is divided into
two parts. </p>
<ul>
  <li> User account modification ( Add/Del/Modify )
    <ol>
      <li> Account modification from Windows-&gt;RHDS
      </li>
      <li> Account modification from RHDS-&gt;Windows
      </li>
    </ol>
  </li>
  <li> User password modification
    <ol>
      <li> Password modification from Windows-&gt;RHDS
      </li>
      <li> Password modification from RHDS-&gt;Windows
      </li>
    </ol>
  </li>
  <li> User group modification ( Add/Del/Modify )
    <ol>
      <li> Group modification from Windows-&gt;RHDS
      </li>
      <li> Group modification from RHDS-&gt;Windows
      </li>
    </ol>
  </li>
</ul>
<p><br>
</p>
<a name="IPA_feature_overview"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=3"
 title="Edit section: IPA feature overview">edit</a>]</span> <span
 class="mw-headline"> IPA feature overview </span></h3>
<p>IPA winsync is an independent Directory Server plugin that functions
similar to DS winsync solution but designed specific for IPA server. In
fact, IPA winsync plugin shares most of code with DS winsync plugin.
The purpose of this plugin is also to sync users between AD and IPA,
but it come with the following requirements (source <a
 href="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Requirements"
 class="external text"
 title="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Requirements"
 rel="nofollow">idmwiki IPA Winsync design doc</a>)
</p>
<p>General Syncing Requirements:
</p>
<ul>
  <li> IPA will only sync user data </li>
  <li> AD user will sync to IPA
  </li>
  <li> IPA will not send new user information from the DS to AD -
the users must also be added to AD, at which point changes to that user
will be sync'd between DS and AD
    <ul>
      <li> The sync key is the uid, which must be the same as the
samAccountName on the AD side
      </li>
    </ul>
  </li>
  <li> IPA will sync new users added to AD - IPA must be able to change
the DN and schema before the entry is stored in DS
    <ul>
      <li> IPA will flatten the DN, removing any ou RDNs, and storing
these in the ou attribute in the user entry
      </li>
    </ul>
  </li>
  <li> IPA will need to be able to specify the search base, scope,
filter, attribute lists, and additional server controls in both
internal searches and external (AD) searches </li>
  <li> IPA will be able to force all users to be in sync with the AD
counterpart (IPA uid == AD samAccountName) </li>
</ul>
<p>The IPA plug-in must be able to do the following:
</p>
<ul>
  <li> Intercept and change a user entry before it is sent from dirsrv
to AD, including the DN, both in init mode and update mode
  </li>
  <li> Intercept and change an entry after it is received from AD
but before it is processed further by dirsrv, including changing the
DN, both in init mode and update mode </li>
</ul>
<p><br>
Additional requirements:
</p>
<ul>
  <li> Allow changing the arguments to the AD dirsync search request
  </li>
</ul>
<p>Account Conflict resolving:
</p>
<dl>
  <dd> It is possible that before IPA sync with AD, there is an user
in IPA server who has uid value same as another user in AD server who
has samAccountName attribute's value. This is called "pre-exist user
account conflict". The solution to solve this conflict this is that IPA
provide one more syncing option "--forceSync". If IPA and AD sync with
this option, the plugin will tie these two accounts together.
Otherwise, IPA plugin will treat these two account as two separate
account. </dd>
</dl>
<a name="Test_Approach"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=4"
 title="Edit section: Test Approach">edit</a>]</span> <span
 class="mw-headline"> Test Approach </span></h2>
<p>There are two sets of test should be run in this test plan. The
first set is RHDS winsync acceptance test set. It proves the basic
syncing function works as expected. The second set of test is IPA
winsync plugin test set. It has functional tests to verity the
implementation. </p>
<p><b>RHDS acceptance test set</b> will includes the following
categories:
</p>
<ol>
  <li> Sync agreement verification
  </li>
  <li> Users synchronization between AD and DS
  </li>
  <li> Groups synchronization between AD and DS
  </li>
</ol>
<p><br>
Based on the above test set, <b>IPA winsync plugin functional test</b>
will includes the following additional categories:
</p>
<ol>
  <li> IPA winsync plugin configuration test
  </li>
  <li> IPA winsync agreement test </li>
  <li> IPA user synchronization between AD and DS
  </li>
  <li> IPA groups synchronization between AD and DS
  </li>
</ol>
<p><br>
</p>
<a name="Test_Environment_Setup"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=5"
 title="Edit section: Test Environment Setup">edit</a>]</span> <span
 class="mw-headline"> Test Environment Setup </span></h2>
<a name="DS_winsync_test_environment_setup"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=6"
 title="Edit section: DS winsync test environment setup">edit</a>]</span>
<span class="mw-headline"> DS winsync test environment setup </span></h3>
<p>To setup AD-DS synchronization environment, please follow the <a
 href="http://directory.fedoraproject.org/wiki/Howto:WindowsSync"
 class="external text"
 title="http://directory.fedoraproject.org/wiki/Howto:WindowsSync"
 rel="nofollow">official doc</a>. IPA provide a cli to create the
IPA-AD sync agreement. The general step is below. The <a
 href="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Installation_and_Setup"
 class="external text"
 title="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Installation_and_Setup"
 rel="nofollow">idmwiki guide is here</a>. The <a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/IPA_Winsync_test_plan#IPA-AD_winsync_environment_setup"
 title="">local copy is here</a>
</p>
<p><br>
</p>
<p><b>[IPA winsync environment configuration ]</b>
</p>
<p>[Notes:] the following steps was documented before we have winsync
agreement creation tools. (The doc is <a
 href="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Sync_Agreement_Creation"
 class="external text"
 title="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Sync_Agreement_Creation"
 rel="nofollow">here</a>)
</p>
<ol>
  <li> install redhat-ds
    <ul>
      <li> yum install redhat-ds on margo.dsqa.sjc2.redhat.com </li>
    </ul>
  </li>
  <li> install java 1.5
    <ul>
      <li> wget <a
 href="http://rome.sjc.redhat.com/downloads/java/java-1.5.0-ibm-1.5.0.5-1jpp.0.1.el5.x86_64.rpm"
 class="external free"
 title="http://rome.sjc.redhat.com/downloads/java/java-1.5.0-ibm-1.5.0.5-1jpp.0.1.el5.x86_64.rpm"
 rel="nofollow">http://rome.sjc.redhat.com/downloads/java/java-1.5.0-ibm-1.5.0.5-1jpp.0.1.el5.x86_64.rpm</a>
      </li>
    </ul>
  </li>
  <li> register (register-ds-admin.pl) IPA redhat-ds instance onto
admin server </li>
  <li> exchange the certs between IPA (DS) and AD (Window side)
    <ol>
      <li> <b>export IPA certs to AD server</b>
        <ol>
          <li> prepare cert: As soon as we installed IPA, there is a
self-signed certs , we only need exchange this certs with AD, </li>
          <li> cd /etc/dirsrv/slapd-DSQA-SJC2-REDHAT-COM
          </li>
          <li> certutil -L -d . -n "CA certificate" -a &gt;
margo-cacert.txt ( this is cert we need copy to AD)
          </li>
          <li> <b>at AD side:</b> import IPA cert: goes to&nbsp;:
Console.msc
(Microsoft Common Console Document) -&gt; Certificates (Local Computer)
-&gt; Trusted Root Certification Authorities -&gt; [Right click] menu
-&gt; All tasks -&gt; import <a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/Image:Winsync-ad-import.png"
 title="Image:Winsync-ad-import.png">Image:Winsync-ad-import.png</a>
          </li>
        </ol>
      </li>
      <li> <b>export AD cert to IPA server</b>
        <ol>
          <li> Console.msc (Microsoft Common Console Document) -&gt;
Certificates (Local Computer) -&gt; Personal -&gt;Certificates -&gt;
select the one &lt;ALL&gt; -&gt; [right click] menu -&gt; All tasks
-&gt; export <a
 href="http://rome.sjc.redhat.com/mediawiki/index.php/Image:Winsync-ad-export.png"
 title="Image:Winsync-ad-export.png">Image:Winsync-ad-export.png</a>
          </li>
          <li> copy it to IPA server
          </li>
          <li> on IPA server&nbsp;: pk12util -i ./ADcert_formargo.pfx
-d .
          </li>
          <li> certutil -M -d . -n "mirror.dsdev.sjc.redhat.com" -t
"CTu,CTu,CTu"
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
<a name="IPA_winsync_test_environment_setup"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=7"
 title="Edit section: IPA winsync test environment setup">edit</a>]</span>
<span class="mw-headline"> IPA winsync test environment setup </span></h3>
<ol>
  <li> following AD-DS sync environment setup steps to exchange certs
between IPA and Windows AD server
  </li>
  <li> run ipa-replica-manager add command to setup the sync agreement.
    <ul>
      <li> The official <a
 href="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Sync_Agreement_Creation"
 class="external text"
 title="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1#Sync_Agreement_Creation"
 rel="nofollow">guide line is here</a>
      </li>
      <li> local copy is below
      </li>
    </ul>
  </li>
</ol>
<pre>The sync agreement is created by using the ipa-replica-manage add command. <br>There are several new command line flags which must be used.<br><br>    * --winsync - tells ipa-replica-manage that this is a Windows Sync agreement<br>    * --binddn - the full DN of the user to use - the DS will bind to AD as this <br>                 user in order to read and write changes - this user must have read, <br>                 search, and write permissions on the AD subtree, including password<br>                 changes, as well as permission to use the DirSync control (i.e. must <br>                 be able to use Replication)<br>    * --bindpw - the password for the binddn above<br>    * --cacert - the full path and file name of the ASCII/PEM encoded Windows AD CA <br>                 cert - this cert will be installed in the directory server cert db <br>                 under the name "Imported CA" <br></pre>
<a name="Test_Cases"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=8"
 title="Edit section: Test Cases">edit</a>]</span> <span
 class="mw-headline"> Test Cases </span></h2>
<a name="RHDS_acceptance_test_cases"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=9"
 title="Edit section: RHDS acceptance test cases">edit</a>]</span> <span
 class="mw-headline"> RHDS acceptance test cases </span></h3>
<table style="width: 100%;" border="1" cellpadding="2" cellspacing="3">
  <tbody>
    <tr bgcolor="#000099">
      <td bgcolor="#cc0000">
      <p><font color="#ffffff"><b>Test ID</b></font>
      </p>
      </td>
      <td bgcolor="#cc0000">
      <p><font color="#ffffff"><b>Test Purpose:</b></font>
      </p>
      </td>
      <td bgcolor="#cc0000">
      <p><font color="#ffffff"><b>Test Procedures </b></font>
      </p>
      </td>
      <td bgcolor="#cc0000">
      <p><font color="#ffffff"><b>Expected Result </b></font>
      </p>
      </td>
    </tr>
    <tr>
      <td style="background-color: rgb(204, 204, 255);" rowspan="1"
 colspan="4"> check the User Entry Schema equivalent fields:
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_001
      </td>
      <td style="vertical-align: top;"> description
      </td>
      <td style="vertical-align: top;" rowspan="25" colspan="1">
      <p>All test cases in this category has same test procedure as
below: </p>
      <ol>
        <li> prepare a new entry that contains the test field </li>
        <li> perform an "add" operation on DS side. Expect the data to
be sync to AD side </li>
        <li> perform a search on AD side to confirm the entry is sync'd
        </li>
        <li> check the entry on AD side to confirm that
          <ul>
            <li> the newly added entry has filed name as test field
name </li>
            <li> the newly added entry has same value on test field </li>
          </ul>
        </li>
        <li> Delete the recode, confirm this entry removed from both
side </li>
        <li> Repeat step 1 to 4, but starts from AD. The expected
result is the same
        </li>
        <li> <span style="font-weight: bold; color: rgb(51, 51, 255);">
Data constrains:</span>
          <ul>
            <li> "initials" attribute only sync first 6 chars between
AD and DS
            </li>
            <li> streetAddress can have mulpital values in DS side,
while there can be only one value in AD side </li>
          </ul>
        </li>
      </ol>
      </td>
      <td style="vertical-align: top;" rowspan="25" colspan="1"> The
expected result is similar
      <ol>
        <li> the newly added entry appears on both DS and AD side </li>
        <li> for the same entry, both side has same filed name and
value </li>
      </ol>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_002
      </td>
      <td style="vertical-align: top;"> destinationIndicator
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_003
      </td>
      <td style="vertical-align: top;"> facsimileTelephoneNumber
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_004
      </td>
      <td style="vertical-align: top;"> givenName
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_005
      </td>
      <td style="vertical-align: top;"> homePhone
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_006
      </td>
      <td style="vertical-align: top;"> homePostalAddress
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_007
      </td>
      <td style="vertical-align: top;"> initials
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_008
      </td>
      <td style="vertical-align: top;"> l
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_009
      </td>
      <td style="vertical-align: top;"> mail
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_010
      </td>
      <td style="vertical-align: top;"> mobile
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_011
      </td>
      <td style="vertical-align: top;"> o
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_012
      </td>
      <td style="vertical-align: top;"> ou
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_012
      </td>
      <td style="vertical-align: top;"> pager
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_013
      </td>
      <td style="vertical-align: top;"> physicalDeliveryOfficeName
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_014
      </td>
      <td style="vertical-align: top;"> postOfficeBox
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_015
      </td>
      <td style="vertical-align: top;"> postalAddress
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_016
      </td>
      <td style="vertical-align: top;"> postalCode
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_017
      </td>
      <td style="vertical-align: top;"> registeredAddress
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_018
      </td>
      <td style="vertical-align: top;"> sn
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_019
      </td>
      <td style="vertical-align: top;"> st
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_020
      </td>
      <td style="vertical-align: top;"> street
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_021
      </td>
      <td style="vertical-align: top;"> telephoneNumber
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_022
      </td>
      <td style="vertical-align: top;"> title
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_023
      </td>
      <td style="vertical-align: top;"> userCertificate
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_equ_024
      </td>
      <td style="vertical-align: top;"> x121Address
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 255);"
 rowspan="1" colspan="4"> check the User Entry Schema Mapping between
DS and AD
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_001
      </td>
      <td style="vertical-align: top;"> DS "cn" map to AD "name"
      </td>
      <td style="vertical-align: top;" rowspan="13" colspan="1"> Follow
the test procedure as win_equ category
      </td>
      <td style="vertical-align: top;" rowspan="13" colspan="1">
expected result same as win_equ test category
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_002
      </td>
      <td style="vertical-align: top;"> DS "ntUserDomainID" map to AD
"sAMAccountName"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_003
      </td>
      <td style="vertical-align: top;"> DS "ntUserHomeDir" map to AD
"homeDirectory"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_004
      </td>
      <td style="vertical-align: top;"> DS "ntUserScriptPath" map to AD
"scriptPath"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_005
      </td>
      <td style="vertical-align: top;"> DS "ntUserLastLogon" map to AD
"lastLogon"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_006
      </td>
      <td style="vertical-align: top;"> DS "ntUserLastLogoff" map to AD
"lastLogoff"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_007
      </td>
      <td style="vertical-align: top;"> DS "ntUserAcctExpires" map to
AD "accountExpires"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_008
      </td>
      <td style="vertical-align: top;"> DS "ntUserCodePage" map to AD
"codePage"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_009
      </td>
      <td style="vertical-align: top;"> DS "ntUserLogonHours" map to AD
"logonHours"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_010
      </td>
      <td style="vertical-align: top;"> DS "ntUserMaxStorage" map to AD
"maxStorage"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_011
      </td>
      <td style="vertical-align: top;"> DS "ntUserProfile" map to AD
"profilePath"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_012
      </td>
      <td style="vertical-align: top;"> DS "ntUserParms" map to AD
"userParameters"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_map_013
      </td>
      <td style="vertical-align: top;"> DS "ntUserWorkstations" map to
AD "userWorkstations"
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 255);"
 rowspan="1" colspan="4"> check Group Entry Schema Mapping between DS
and AD
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_001
      </td>
      <td style="vertical-align: top;"> DS "cn" map to AD "name"
      </td>
      <td style="vertical-align: top;" rowspan="5" colspan="1"> Follow
the test procedure as win_equ category
      </td>
      <td style="vertical-align: top;" rowspan="5" colspan="1">
expected result same as win_equ test category
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_002
      </td>
      <td style="vertical-align: top;"> DS "ntGroupAttributes" map to
AD "groupAtrributes"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_003
      </td>
      <td style="vertical-align: top;"> DS "ntGroupId" map to AD "cn",
"name", "samAccountName"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_004
      </td>
      <td style="vertical-align: top;"> DS "ntGroupType" map to AD
"groupType"
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_005
      </td>
      <td style="vertical-align: top;"> DS "uniqueMember" map to AD
"member"
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 255);"
 rowspan="1" colspan="4"> check Group Entry Schema that are directly
mapped between DS and AD
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_006
      </td>
      <td style="vertical-align: top;"> seeAlso
      </td>
      <td style="vertical-align: top;" rowspan="4" colspan="1"> Follow
the test procedure as win_equ category
      </td>
      <td style="vertical-align: top;" rowspan="4" colspan="1">
expected result same as win_equ test category
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_007
      </td>
      <td style="vertical-align: top;"> l
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_008
      </td>
      <td style="vertical-align: top;"> description
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_grp_009
      </td>
      <td style="vertical-align: top;"> ou
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 255);"
 rowspan="1" colspan="4"> <b>Negative test case</b> <br>
beside the above equivalent and mapped attributes, no other attributes
will sync. (In fact, the above attributes are hard coded). Therefore
one extra test case is necessary to do negative test
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_sync_001
      </td>
      <td style="vertical-align: top;"> create a new file in DS side,
such as: "should-not-sync"
      </td>
      <td style="vertical-align: top;">
      <ol>
        <li> create a entry with this attribute on DS side </li>
        <li> wait till this new entry sync to AD side </li>
        <li> verify that there is no such attributes exist on AD side
        </li>
      </ol>
      </td>
      <td style="vertical-align: top;"> expect:
      <ol>
        <li> new entry should appear on AD side. No error message in
log file </li>
        <li> when do ldapsearch, there is no this attributes on AD
server. </li>
      </ol>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 255);"
 rowspan="1" colspan="4"> DS &amp; AD conflict check (unless specified,
otherwise all operation will happen on the same LDAP entry)
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">
test case #
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">
conflict scenario
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">
test cases details
      </td>
      <td
 style="vertical-align: top; text-align: center; font-weight: bold;">
expected result
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_101
      </td>
      <td style="vertical-align: top;"> DS "add" operation -&gt; AD
"add" operation
      </td>
      <td style="vertical-align: top;"> Add a new entry in DS side,
immediately add exactly same entry in AD side
      </td>
      <td style="vertical-align: top;"> New entry added on both side,
"duplicate entry" message or "error 68 (exist)" message in log file
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_102
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> DS
"add" operation -&gt; AD "modify" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_103
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> DS
"add" operation -&gt; AD "delete" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_104
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> DS
"modify" operation -&gt; AD "add" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_105_1
      </td>
      <td style="vertical-align: top;"> DS "modify" operation -&gt; AD
"modify" operation&nbsp;: same field in same entry
      </td>
      <td style="vertical-align: top;"> modify one field on existing
entry on DS side, immediately followed by same operation on AD side
      </td>
      <td style="vertical-align: top;"> whichever latest operation
should win, in this case, change on AD side should appear on both side
after 5 minutes
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_105_2
      </td>
      <td style="vertical-align: top;"> DS "modify" operation -&gt; AD
"modify" operation: different field in same entry
      </td>
      <td style="vertical-align: top;"> modify one field value on one
existing entry on DS side, immediately followed by same operation on
same entry but different field.
      </td>
      <td style="vertical-align: top;"> those two modification should
not cause conflict, latest changes should appear on both side
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_106
      </td>
      <td style="vertical-align: top;"> DS "modify" operation -&gt; AD
"delete" operation
      </td>
      <td style="vertical-align: top;"> modify one entry on DS side,
immediately followed by a "delete" operation on AD side
      </td>
      <td style="vertical-align: top;"> modify should not conflict with
delete, entry should be deleted on both sides after automatic sync
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_107
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> DS
"delete" operation -&gt; AD "add"
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_108
      </td>
      <td style="vertical-align: top;"> DS "delete" operation -&gt; AD
"modify"
      </td>
      <td style="vertical-align: top;"> delete one entry on DS side,
immediately followed by a modify operation on AD side
      </td>
      <td style="vertical-align: top;"> modify on AD might success, but
the test entry should disappear from both side
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_109
      </td>
      <td style="vertical-align: top;"> DS "delete" operation -&gt; AD
"delete"
      </td>
      <td style="vertical-align: top;"> deletes one entry on DS side,
immediately followed by same operation on AD side
      </td>
      <td style="vertical-align: top;"> entry should be deleted, error
message might appear in log file
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"
 rowspan="1" colspan="4">
      <br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_201
      </td>
      <td style="vertical-align: top;"> AD "add" operation -&gt; DS
"add" operation
      </td>
      <td style="vertical-align: top;"> Add a new entry in AD side,
immediately add exactly data in DS side
      </td>
      <td style="vertical-align: top;"> expect same result as
win_con_101
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_202
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> AD
"add" operation -&gt; DS "modify" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_203
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> AD
"add" operation -&gt; DS "delete" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_204
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> AD
"modify" operation -&gt; DS "add" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_205_1
      </td>
      <td style="vertical-align: top;"> AD "modify" operation -&gt; DS
"modify" operation: same entry, same field
      </td>
      <td style="vertical-align: top;"> modify one field on one
existing entry on AD side, immediately followed by same operation on
same field, same entry
      </td>
      <td style="vertical-align: top;"> expect same result as con105_1
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_205_2
      </td>
      <td style="vertical-align: top;"> AD "modify" operation -&gt; DS
"modify" operation: same entry, different field
      </td>
      <td style="vertical-align: top;"> modify one field on one
existing entry on AD side, immediately followed by same operation on
different field, same entry
      </td>
      <td style="vertical-align: top;"> expect same result as
win_con_105_2
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_206
      </td>
      <td style="vertical-align: top;"> AD "modify" operation -&gt; DS
"delete" operation
      </td>
      <td style="vertical-align: top;"> modify one entry on AD side,
immediately followed delete on DS side
      </td>
      <td style="vertical-align: top;"> entry should be deleted on both
side
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_207
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"> AD
"delete" operation -&gt; DS "add" operation
      </td>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);">
such scenario is not possible
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_208
      </td>
      <td style="vertical-align: top;"> AD "delete" operation -&gt; DS
"modify" operation
      </td>
      <td style="vertical-align: top;"> delete one entry on AD side,
immediately followed modify on DS side
      </td>
      <td style="vertical-align: top;"> both delete and modify should
success, however, this entry should automatic being removed from both
side after sync
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"> win_con_209
      </td>
      <td style="vertical-align: top;"> AD "delete" operation -&gt; DS
"delete" operation
      </td>
      <td style="vertical-align: top;"> delete one entry on AD side,
immediately followed delete on DS side
      </td>
      <td style="vertical-align: top;"> both success, after sync, this
entry should disappear from both side.
      </td>
    </tr>
  </tbody>
</table>
<p><br>
</p>
<a name="IPA_test_cases"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=10"
 title="Edit section: IPA test cases">edit</a>]</span> <span
 class="mw-headline"> IPA test cases </span></h3>
<a name="IPA_Winsync_plugin_Smoke_test_cases_.28safe-0.29"></a>
<h4><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=11"
 title="Edit section: IPA Winsync plugin Smoke test cases (safe-0)">edit</a>]</span>
<span class="mw-headline"> IPA Winsync plugin Smoke test cases (safe-0)</span></h4>
<table
 style="background: lightcyan none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"
 border="1" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
#
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Scenario
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Test Procedure &amp; Expected result
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Notes
      </th>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: plug in existence test
      </td>
    </tr>
    <tr>
      <td valign="top"> 1
      </td>
      <td valign="top"> verify IPA server build includes winsync plugin
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> install ipa-server
            </li>
            <li> grep winsync plugin configuration in SLAPD
configuration file (/usr/lib/dirsrv/slapd-&lt;REALM&gt;/dse.ldif) </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> <font color="red"> not sure what to grep, i have to
try it to find it out</font> </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: verify existence of IPA
winsync command line tool
      </td>
    </tr>
    <tr>
      <td valign="top"> 2
      </td>
      <td valign="top"> ipa-replica-manage add --winsync ...
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> establish connection between IPA server and AD </li>
            <li> create a new winsync agreement with the next command:
              <ul>
                <li> ipa-replica-manage add --winsync --binddn
&lt;dn&gt; --bindpw &lt;pw&gt; --cacert &lt;cert&gt;
                </li>
              </ul>
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> <font color="red"> it is <b>NOT necessary</b> to
give correct data when calling this command. We just need to know such
option exist in the command tool </font></li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
#
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Scenario
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Test Procedure &amp; Expected result
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Notes
      </td>
    </tr>
  </tbody>
</table>
<a name="IPA_Winsync_plugin_Acceptance_test_cases_.28safe-1.29"></a>
<h4><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=12"
 title="Edit section: IPA Winsync plugin Acceptance test cases (safe-1)">edit</a>]</span>
<span class="mw-headline"> IPA Winsync plugin Acceptance test cases
(safe-1)</span></h4>
<table
 style="background: lightcyan none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"
 border="1" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
#
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Scenario
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Test Procedure &amp; Expected result
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Notes
      </th>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: Create a simplest IPA-AD
sync agreement
      </td>
    </tr>
    <tr>
      <td valign="top"> 100
      </td>
      <td valign="top"> sync agreement can be established
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> install ipa-server
            </li>
            <li> exchange certs between AD &amp; DS
            </li>
            <li> create IPA-AD sync agreement with following command:
              <ul>
                <li> ipa-replica-manage add --winsync --binddn
&lt;dn&gt; --bindpw &lt;pw&gt; --cacert &lt;cert&gt;
                </li>
              </ul>
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Sync agreement should be created. <font color="red">
but I am not sure how it looks like. I need try it before i can
automate it</font> </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: verify synching between
IPA and AD
      </td>
    </tr>
    <tr>
      <td valign="top"> 101
      </td>
      <td valign="top"> initial sync between IPA and AD
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> install ipa-server
            </li>
            <li> create some users and groups in ipa server
            </li>
            <li> exchange certs between AD &amp; DS
            </li>
            <li> create IPA-AD sync agreement with following command
            </li>
            <li> trigger init sync between IPA and AD
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> IPA account should NOT appear on AD side, AD accounts
should appear on IPA side. [This is a one way syncing] </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 102
      </td>
      <td valign="top"> update sync between IPA and AD
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> install ipa-server
            </li>
            <li> create some users and groups in ipa server
            </li>
            <li> exchange certs between AD &amp; DS
            </li>
            <li> create IPA-AD sync agreement with following command
            </li>
            <li> trigger init sync between IPA and AD
            </li>
            <li> add another set of user and groups accounts into IPA
server
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Newly added account should flow to AD side. </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top">
      <p><br>
      </p>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: User Account
synchronization
      </td>
    </tr>
    <tr>
      <td valign="top"> 103
      </td>
      <td valign="top"> Existing AD user <br>
will flow to IPA once the agreement is established
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one account on AD side
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the existing AD account shows up at IPA side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 104
      </td>
      <td valign="top"> New AD user <br>
will flow to IPA after the agreement is established
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync </li>
            <li> create one account on AD side
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the newly created account shows up at IPA side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 105
      </td>
      <td valign="top"> Existing IPA user <br>
should not sync to AD side
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server
            </li>
            <li> add one user into IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the existing IPA user not shows up at AD side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 106
      </td>
      <td valign="top"> New IPA user <br>
should not sync to AD side
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> add one user into IPA server
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the newly created account does NOT shows up at
AD side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 107
      </td>
      <td valign="top"> Account deletion <br>
Delete a sync'ed user from AD side will cause this account deleted from
IPA server
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one account on AD side
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> delete this user from AD side
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> This AD account should be deleted at both AD &amp; IPA
server
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top">
      <p><br>
      </p>
      </td>
    </tr>
    <tr>
      <td valign="top"> 108
      </td>
      <td valign="top"> Account deletion <br>
Delete a sync'ed user from IPA side will cause this account deleted
from AD server
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one account on AD side
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> delete this user from IPA side
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> This AD account should be deleted at both AD &amp; IPA
server
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 109
      </td>
      <td valign="top"> Account modification <br>
Modify a sync'ed user's sync'ed field from IPA side will cause same
user's corresponding field modified in AD server
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one user account on AD side
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> change this user's email address on AD side
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> email address should be updated on both AD and IPA
server
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 110
      </td>
      <td valign="top"> Account modification <br>
Modify a sync'ed user's sync'ed field from AD side will cause same
user's corresponding field modified in IPA server
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one user account on AD side
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> change this user's email address on IPA side
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> email address should be updated on both AD and IPA
server
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top">
      <p><br>
      </p>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: Group Account
synchronization
      </td>
    </tr>
    <tr>
      <td valign="top"> 111
      </td>
      <td valign="top"> Existing AD GROUP will <b>NOT</b> flow to IPA
once the agreement is established
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> add one groups into AD server
            </li>
            <li> setup IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the existing AD group will NOT shows up at IPA
side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 112
      </td>
      <td valign="top"> New AD GROUP will <b>NOT</b> flow to IPA once
the agreement is established
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync
            </li>
            <li> add one groups into AD server
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the newly created AD group will NOT shows up at
IPA side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 113
      </td>
      <td valign="top"> Existing IPA group should <b>NOT</b> sync to
AD side
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server
            </li>
            <li> add one groups into IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the existing IPA group will NOT shows up at AD
side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 114
      </td>
      <td valign="top"> New IPA group should <b>NOT</b> sync to AD
side
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server
            </li>
            <li> setup IPA-AD sync agreement
            </li>
            <li> trigger IPA-AD init sync </li>
            <li> add one groups into IPA server
            </li>
          </ol>
        </li>
      </ul>
      <ul>
        <li> expected result
          <ul>
            <li> Verify the newly created group will NOT shows up at AD
side </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
#
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Scenario
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Test Procedure &amp; Expected result
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Notes
      </td>
    </tr>
  </tbody>
</table>
<a name="IPA_Winsync_plugin_Functional_test_cases_.28safe-2.29"></a>
<h4><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=13"
 title="Edit section: IPA Winsync plugin Functional test cases (safe-2)">edit</a>]</span>
<span class="mw-headline"> IPA Winsync plugin Functional test cases
(safe-2)</span></h4>
<table
 style="background: lightcyan none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"
 border="1" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
#
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Scenario
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Test Procedure &amp; Expected result
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Notes
      </th>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: pre-exist user account
conflict resolving test
      </td>
    </tr>
    <tr>
      <td valign="top"> 200-1
      </td>
      <td valign="top"> pre-exist user account conflict resolving test,
setup sync agreement without "forceSync" option
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one account in AD, set samAccountName to
"pre-exist-user"
            </li>
            <li> create one account in IPA, set uid to "pre-exist-user"
            </li>
            <li> setup syncing agreement between IPA and AD, <b>DO NOT</b>
use <b>--forceSync</b> option
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> these two accounts should be separate account.
              <ul>
                <li> The "ntUser" flag in IPA server for this account
should not be set. </li>
                <li> Modify account on one side will not see changes on
another side
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 200-1
      </td>
      <td valign="top"> pre-exist user account conflict resolving test,
setup sync agreement with "forceSync" option
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create one account in AD, set samAccountName to
"pre-exist-user"
            </li>
            <li> create one account in IPA, set uid to "pre-exist-user"
            </li>
            <li> setup syncing agreement between IPA and AD, <b>DO</b>
use <b>--forceSync</b> option
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> these two accounts should be tied together.
              <ul>
                <li> The "ntUser" flag in IPA server for this account
should be set. </li>
                <li> Modify account on one side will see changes on
another side
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: IPA-AD sync agreement
modification (changes on "binddn","bindpw","cacert")
      </td>
    </tr>
    <tr>
      <td valign="top"> 201
      </td>
      <td valign="top"> binddn change: AD side change
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> create a different bind OU in AD side
            </li>
            <li> modify the sync agreement, make IPA sync with
different AD OU
            </li>
            <li> create a new IPA user
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> newly created IPA user will sync to different AD OU </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 202
      </td>
      <td valign="top"> binddn change: IPA side change
      </td>
      <td valign="top">
      <p>such scenario is logic, but it does not exist since IPA side
is flat tree <font color="red"> please confirm</font> </p>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 203
      </td>
      <td valign="top"> bindpw change
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> create a new sync password
            </li>
            <li> modify the sync agreement, make IPA sync using the new
password
            </li>
            <li> create a new IPA user
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> newly created IPA user will sync to same OU in AD with
new password
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 204
      </td>
      <td valign="top"> cert change&nbsp;: AD has a new cert
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> generate a new AD cert </li>
            <li> modify the sync agreement, make IPA sync using the new
AD cert </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> sync agreement will recognize the new cert
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 205
      </td>
      <td valign="top"> cert change&nbsp;: IPA has a new cert
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> generate a new IPA cert </li>
            <li> modify the sync agreement, make IPA sync using the new
IPA cert </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> sync agreement will recognize the new cert
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 206
      </td>
      <td valign="top"> cert change&nbsp;: invalid cert will not be
accepted by AD
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> generate a new IPA cert </li>
            <li> poison the cert with extra bit
            </li>
            <li> modify the sync agreement, make IPA sync using the new
IPA cert </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> sync agreement will broken. </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 207
      </td>
      <td valign="top"> cert change rollback: invalid cert will not be
accepted by AD, rollback should be fine
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> generate a new IPA cert </li>
            <li> poison the cert with extra bit
            </li>
            <li> modify the sync agreement, make IPA sync using the new
IPA cert </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> sync agreement will broken. </li>
            <li> rollback to the original cert would keep sync
agreement work as before
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 208
      </td>
      <td valign="top"> cert change rollback: invalid cert will not be
accepted by IPA, rollback should be fine
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> create a simple IPA-AD sync agreement
            </li>
            <li> generate a new AD cert </li>
            <li> poison the cert with extra bit
            </li>
            <li> modify the sync agreement, make IPA sync using the new
AD cert </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> sync agreement will broken.
            </li>
            <li> rollback to the original cert would keep sync
agreement work as before
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: User account
synchronization
      </td>
    </tr>
    <tr>
      <td valign="top"> 209
      </td>
      <td valign="top"> General Sync'ed field verification.<br>
This
area has been tested in RHDS winsync test set. There is no need to have
same set test here. What we need to test is the IPA specific account
activities.
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
        </li>
        <li> expected result </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 210-1
      </td>
      <td valign="top"> User Account status change on IPA side: Active
user change to In-active user
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA-AD sync environment
            </li>
            <li> create one AD user (this account will sync to IPA
server)
            </li>
            <li> change user account status from <b>active</b> to <b>in-active</b>
[lock user account]
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> User account on AD side will change from "enable" to
"disable" </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 210-2
      </td>
      <td valign="top"> User Account status change on AD side: enabled
user change to disabled user
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA-AD sync environment
            </li>
            <li> create one AD user (this account will sync to IPA
server)
            </li>
            <li> change user account status from <b>enable</b> to <b>disable</b>
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> User account on IPA side will change from "active" to
"in-active"
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 211-1
      </td>
      <td valign="top"> User Account status change on IPA side:
In-active user change to Active user
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA-AD sync environment
            </li>
            <li> create one AD user (this account will sync to IPA
server)
            </li>
            <li> change user account status from <b>active</b> to <b>in-active</b>
[lock user account]
            </li>
            <li> change user account status from <b>in-active</b> to <b>active</b>
[unlock user account]
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> User account on AD side will change from "disable" to
"enable"
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 211-2
      </td>
      <td valign="top"> User Account status change on AD side: enabled
user change to disabled user
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA-AD sync environment
            </li>
            <li> create one AD user (this account will sync to IPA
server)
            </li>
            <li> change user account status from <b>disenable</b> to <b>enable</b>
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> User account on IPA side will change from "in-active"
to "active"
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top">
      <p><br>
      </p>
      </td>
    </tr>
    <tr>
      <td valign="top"> 212
      </td>
      <td valign="top"> User Account change on AD side: the whole sync
OU changed. <br>
this should be just like delete an original sync agreement and setup a
new sync agreement
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> setup IPA server sync with AD server under OU=First_OU
            </li>
            <li> create some AD users to verity they sync to IPA server
            </li>
            <li> Modify IPA-AD sync agreement. Make IPA server sync
with AD server under OU=Second_OU
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> <font color="red"> What is going to happen? Do all
original sync'ed AD accounts will now move to AD server under
"OU=Second_OUT"&nbsp;?</font>
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: Group account
synchronization&nbsp;: <b>NO Such Scenario</b> in Functional test set
      </td>
    </tr>
    <tr>
      <td valign="top"> 213
      </td>
      <td valign="top"> Acceptance test set already proved that group
account will not sync between IPA and AD. Therefore, there is no need
to have any more test cases in this category.
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
        </li>
        <li> expected result </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
#
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Scenario
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Test Procedure &amp; Expected result
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Notes
      </td>
    </tr>
  </tbody>
</table>
<a name="IPA_winsync_plugin_Extended_functional_test_cases_.28safe-3.29"></a>
<h4><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=14"
 title="Edit section: IPA winsync plugin Extended functional test cases (safe-3)">edit</a>]</span>
<span class="mw-headline"> IPA winsync plugin Extended functional test
cases (safe-3) </span></h4>
<table
 style="background: lightcyan none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"
 border="1" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
#
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Scenario
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Test Procedure &amp; Expected result
      </th>
      <th
 style="background: cadetblue none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: white;">
Notes
      </th>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: Sync agreement in complex
IPA Master-Replica environment should work
      </td>
    </tr>
    <tr>
      <td valign="top"> 300
      </td>
      <td valign="top"> When we have IPA Master-Replica setup, and Sync
agreement is between IPA <b>Master</b> and AD, sync agreement should
work just fine
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> config IPA master-replica depolyment environment
            </li>
            <li> establish sync agreement between IPA Master and AD
            </li>
            <li> trigger init sync between IPA master and AD
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> user added on IPA master machine should flow to AD
            </li>
            <li> user adedd on IPA replica machine should flow to AD
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top"> 301
      </td>
      <td valign="top"> When we have IPA Master-Replica setup, and Sync
agreement is between IPA <b>Replica</b> and AD, sync agreement should
work just fine <br>
      <font color="red"> Does this scenario exist? </font>
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
          <ol>
            <li> config IPA master-replica deployment environment
            </li>
            <li> establish sync agreement between IPA Replica and AD
            </li>
            <li> trigger init sync between IPA replica and AD
            </li>
          </ol>
        </li>
        <li> expected result
          <ul>
            <li> user added on IPA master machine should flow to AD
            </li>
            <li> user adedd on IPA replica machine should flow to AD
            </li>
          </ul>
        </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr
 style="background: papayawhip none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: cornflowerblue;">
      <td colspan="4"> <b>Test purpose</b>: Account synchronization
      </td>
    </tr>
    <tr>
      <td valign="top">
      <br>
      </td>
      <td valign="top"><br>
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
        </li>
        <li> expected result </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td valign="top">
      <br>
      </td>
      <td valign="top"><br>
      </td>
      <td valign="top">
      <ul>
        <li> test procedure
        </li>
        <li> expected result </li>
      </ul>
      </td>
      <td valign="top"><br>
      </td>
    </tr>
    <tr>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
#
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Scenario
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Test Procedure &amp; Expected result
      </td>
      <td
 style="background: lavender none repeat scroll 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; color: lightgray;">
Notes
      </td>
    </tr>
  </tbody>
</table>
<a name="Additional_Test"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=15"
 title="Edit section: Additional Test">edit</a>]</span> <span
 class="mw-headline"> Additional Test </span></h2>
<ul>
  <li> <b>Stress test</b> is required
    <ul>
      <li> The stress target is account deletion and addition
operations.
Since this IPA winsync plugin calls DNA plugin. It is possible that
there are some account conflict when there are many deletion and
addition operations.
      </li>
    </ul>
  </li>
</ul>
<a name="What_won.27t_be_Tested"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=16"
 title="Edit section: What won't be Tested">edit</a>]</span> <span
 class="mw-headline"> What won't be Tested </span></h2>
<p>The following tests are usually necessary, but they will not be able
in the scope of IPA 1.1 release
</p>
<ul>
  <li> One RedHat Directory Server will be made to sync to One Active
Directory Server. The test environment will not include child domains
of AD or replicas/hubs of RHDS.
  </li>
</ul>
<a name="Resources"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=17"
 title="Edit section: Resources">edit</a>]</span> <span
 class="mw-headline"> Resources </span></h2>
<a name="Active_Directory_.28AD.29_Requirement"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=18"
 title="Edit section: Active Directory (AD) Requirement">edit</a>]</span>
<span class="mw-headline"> Active Directory (AD) Requirement </span></h3>
<p>At least one of the test machines must be a Windows Domain
Controller. We will use a dedicated machine for this. (
mirror.dsdev.sjc.redhat.com - Win 2003 ) </p>
<p>It is equally likely that a standard high-performance
Directory Server configuration will be multi-master. Therefore, the
standard test case consists of DS in a multi-master replicated
environment. The acceptance test can be done with one AD and one DS
server. </p>
<p>Functional testing can consist of machines for each of the
domain platforms, NT and 2000. The ability to promote and demote
machines in and out of domains remotely is intended. This may be done
with a tool such as <a
 href="http://www.sysinternals.com/ntw2k/freeware/psexec.shtml"
 class="external text"
 title="http://www.sysinternals.com/ntw2k/freeware/psexec.shtml"
 rel="nofollow">psexec</a> or <a href="http://www.cygwin.com/"
 class="external text" title="http://www.cygwin.com/" rel="nofollow">ssh
for windows</a>. Check.ksh is used to confirm changes to the back end.
</p>
<a name="IPA_winsync_requirements"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=19"
 title="Edit section: IPA winsync requirements">edit</a>]</span> <span
 class="mw-headline"> IPA winsync requirements </span></h3>
<ul>
  <li> <a
 href="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1"
 class="external text"
 title="https://idmwiki.sjc.redhat.com/export/idmwiki/DS_WinSync_1_1"
 rel="nofollow">IPA Winsync PRD</a>
  </li>
</ul>
<a name="Supplements"></a>
<h2><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=20"
 title="Edit section: Supplements">edit</a>]</span> <span
 class="mw-headline"> Supplements </span></h2>
<a name="IPA-AD_winsync_environment_setup"></a>
<h3><span class="editsection">[<a
 href="http://rome.sjc.redhat.com/mediawiki/index.php?title=IPA_Winsync_test_plan&amp;action=edit&amp;section=21"
 title="Edit section: IPA-AD winsync environment setup">edit</a>]</span>
<span class="mw-headline"> IPA-AD winsync environment setup </span></h3>
<p><b>[ Pre Requisites ]</b>
</p>
<p>Windows Sync requires TLS/SSL in order to sync password changes.
Therefore, the Windows AD must first be set up to be an SSL server. See
<a href="http://directory.fedoraproject.org/wiki/Howto:WindowsSync"
 class="external free"
 title="http://directory.fedoraproject.org/wiki/Howto:WindowsSync"
 rel="nofollow">http://directory.fedoraproject.org/wiki/Howto:WindowsSync</a>
for information about how to do that. The easiest way is to install MS
CertSys in Enterprise Root Mode - AD will then automatically enroll to
get its SSL server cert. Then you just go to Network Places and drill
down to the CA distribution point to download the CA cert in ASCII
(PEM) format. This CA Cert is required in order to create the sync
agreement.
</p>
<p><b>[IPA Server Install]</b>
</p>
<p>The plug-in is installed on the IPA server. <b>ipa-server-install</b>
will automatically install the plug-in configuration entry and enable
it by default (this is ok because the plug-in will only ever be called
if Windows Sync is used).
<b>[Sync Agreement Creation]</b>
The sync agreement is created by using the <b>ipa-replica-manage add</b>
command. There are several new command line flags which must be used.
</p>
<ul>
  <li> --winsync - tells ipa-replica-manage that this is a Windows Sync
agreement
  </li>
  <li> --binddn - the full DN of the user to use - the DS will bind
to AD as this user in order to read and write changes - this user must
have read, search, and write permissions on the AD subtree, including
password changes, as well as permission to use the DirSync control
(i.e. must be able to use Replication)
  </li>
  <li> --bindpw - the password for the binddn above
  </li>
  <li> --cacert - the full path and file name of the ASCII/PEM
encoded Windows AD CA cert - this cert will be installed in the
directory server cert db under the name "Imported CA"
  </li>
</ul>
</body>
</html>
