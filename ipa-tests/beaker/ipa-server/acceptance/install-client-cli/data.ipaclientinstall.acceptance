#Files to check
NSSWITCH="/etc/nsswitch.conf"
SSSD="/etc/sssd/sssd.conf"
KRB5="/etc/krb5.conf"
DEFAULT="/etc/ipa/default.conf"
NTP="/etc/ntp.conf"
AUTHCONFIG="/etc/sysconfig/authconfig"
NETWORK="/etc/sysconfig/network"
STEPTICKER="/etc/ntp/step-tickers"

# Lines to check after install

# nsswitch.conf updates 
passwd="files sss"
shadow="files sss"
group="files sss"
netgroup="files sss"
passwd_nosssd="files ldap"
shadow_nosssd="files ldap"
group_nosssd="files ldap"
netgroup_nosssd="files ldap"



# sssd.conf updates
cache_credentials="True True"
ipa_domain=$DOMAIN
id_provider="ipa"
auth_provider="ipa krb5"
access_provider="ipa"
chpass_provider="ipa krb5"
krb5_realm=$RELM
id_provider_nosssd="ldap"
cache_credentials_nosssd="True"
auth_provider_nosssd="krb5"
chpass_provider_nosssd="krb5"
krb5_realm_nosssd="$RELM"
ipa_dyndns_update="True"
access_provider_permit="permit"
#chpass_provider_force="ipa"
#auth_provider_force="ipa"
#cache_credentials_force="True"
#Added by kaleem
ipa_server_master=$MASTER
ipa_server_slave=$SLAVE



# krb5.conf updates
dns_lookup_kdc="true"
default_realm=$RELM
dns_lookup_realm="true"
rdns="false"
ticket_lifetime="24h"
forwardable="yes"
pkinit_anchors="FILE:/etc/ipa/ca.crt"
domain_realm="$RELM $RELM"
if [ $(grep 5\.[0-9] /etc/redhat-release|wc -l) -gt 0 ]; then
	domain_realm_nonexistent="$RELM $RELM"
else
	domain_realm_nonexistent="$RELM $RELM $RELM $RELM"
fi
dns_lookup_kdc_force="false"
dns_lookup_realm_force="false"

#ntp.conf updates
ntpserver="server $NTPSERVER" 
ntplocalserver="server	127.127.1.0	# local clock"


#authconfig updates
USESSSDAUTH="yes"
USEKERBEROS="no"
USESSSD="yes"
USESSSDAUTH_nosssd="no"
USEKERBEROS_nosssd="yes"
USESSSD_nosssd="no"
USEMKHOMEDIR="yes"


# User used in these tests
#testuser="TestUser"
testuser="testuser"
testpwd="TestPassword"
testuserbad="badtestuser"

