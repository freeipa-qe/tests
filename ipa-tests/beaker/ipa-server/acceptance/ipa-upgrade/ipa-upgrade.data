# Yum Repos
echo $FAMILY | grep Fedora
if [ $? -eq 0 ]; then
	OS=fedora
	VER=17
        PKG="freeipa"
fi

echo $FAMILY | grep RedHatEnterpriseLinux
if [ $? -eq 0 ]; then
	OS=rhel
	VER=6
        PKG="ipa"
fi

export OS VER PKG

# Adding support only for Fedora 17 and Rhel 6 at this time. Maybe a case statemet will be required for other OS's in the future.
if [ "$OS" = "fedora" ]; then
	# Disable fedora updates repo
	sed -i s/^enabled=1/enabled=0/g /etc/yum.repos.d/fedora-updates.repo 
	# Define some repos for Fedora 
	myrepo[1]=http://jdennis.fedorapeople.org/ipa-devel/fedora/\$releasever/\$basearch/os/
	myrepo[2]=http://alpha.dsdev.sjc.redhat.com/export/archives/rhel/fc17-updates/$basearch/
	myrepo[3]=http://download.fedoraproject.org/pub/fedora/linux/updates/\$releasever/\$basearch/
else
	myrepo[1]=http://download.devel.redhat.com/rel-eng/RHEL6.4-20130116.3/6.4/Server/\$basearch/os/
	myrepo[2]=http://download.devel.redhat.com/rel-eng/RHEL6.4-20130116.3/6.4/Server/optional/\$basearch/os/
	myrepo[3]=http://cosmos.lab.eng.pnq.redhat.com/ipa-latest/\$basearch
	myrepo[4]=http://10.65.201.171/pki/9.0.3-30/\$basearch
	myrepo[5]=http://download.devel.redhat.com/nightly/latest-RHEL6.4/6.4/Server/\$basearch/os
fi

# Users
user[1]=jack
user[2]=jill
passwd[1]=passw0rd1
passwd[2]=passw0rd2

# Groups
group[1]=managers
group[2]=engineers

# DNS
dnsptr[1]=2.2.4.in-addr.arpa.
dnsptr[2]=2.3.4.in-addr.arpa.

# Hosts
host[1]=web.$DOMAIN
host[2]=ftp.$DOMAIN
ipv4[1]=4.2.2.100
ipv4[2]=4.3.2.101

# Hostgroups
hostgroup[1]=devhostgroup
hostgroup[2]=enghostgroup

# Netgroups
netgroup[1]=devnetgroup
netgroup[2]=engnetgroup

# Automount
automountmap[1]=auto.master
automountmap[2]=auto.home
automountmap[3]=auto.app
automountkey[1]='/home auto.home'
automountkey[2]='* $MASTER:/home/&'
automountkey[3]='
app1 $MASTER:/opt/app1
app2 $MASTER:/opt/app2
'

# Automember
amgroup[1]=finance
amhostgroup[1]=calchostgroup
amuser[1]=todd
amuser[2]=tedd
amhost[1]=bank.${DOMAIN}
amhost[2]=postoffice.${DOMAIN}
