#Files to check
NSSWITCH="/etc/nsswitch.conf"
SSSD="/etc/sssd/sssd.conf"
KRB5="/etc/krb5.conf"
DEFAULT="/etc/ipa/default.conf"
NTP="/etc/ntp.conf"
AUTHCONFIG="/etc/sysconfig/authconfig"
SLAPD_PKI="/etc/dirsrv/slapd-pki"
VERSION="2.0.0"

#Realm used in these tests
myrealm="RALEIGHREALM"
MYHOSTNAME="test.raleigh"
#MIXEDCASEHOSTNAME=${HOSTNAME}
NEWIPADDRESS="10.16.19.131"

# Lines to check after install

# nsswitch.conf updates 
passwd="files sss"
shadow="files sss"
group="files sss"
netgroup="files sss"
passwd_nosssd="files ldap"
shadow_nosssd="files ldap"
group_nosssd="files ldap"
netgroup_nosssd="files ldap"



# sssd.conf updates
krb5_realm_myrealm="$myrealm $myrealm"
cache_credentials="True True"
ipa_domain=$DOMAIN
id_provider="ipa"
auth_provider="ipa krb5"
access_provider="ipa"
chpass_provider="ipa krb5"
krb5_realm=$RELM




# krb5.conf updates
dns_lookup_kdc="true"
default_realm=$RELM
dns_lookup_realm="true"
rdns="false"
ticket_lifetime="24h 36000"
forwardable="yes true"
pkinit_anchors="FILE:/etc/ipa/ca.crt"
domain_realm="$RELM $RELM"
debug_krb5="false"
renew_lifetime="36000"
krb4_convert="false"
dns_lookup_kdc_force="false"
dns_lookup_realm_force="false"

#ntp.conf updates
ntpserver="server $NTPSERVER" 
ntplocalserver="server	127.127.1.0	# local clock"


#authconfig updates
USESSSDAUTH="yes"
USEKERBEROS="yes"
USESSSD="yes"
USESSSDAUTH_nosssd="no"
USEKERBEROS_nosssd="yes"
USESSSD_nosssd="no"
USEMKHOMEDIR="yes"

#default.conf contents
basedn="dc=${myrealm,,}"
realm="$myrealm"
domain=$DOMAIN

# cert check
selfsign_cert="type=NSSDB,location=/etc/dirsrv/slapd-$RELM,nickname=Server-Cert,token=NSS Certificate DB type=NSSDB,location=/etc/httpd/alias,nickname=Server-Cert,token=NSS Certificate DB"
selfsign_issuer="CN=TESTRELM Certificate Authority CN=TESTRELM Certificate Authority"

#zonemgr check
admin_email="root.$HOSTNAME."
non_default_admin_email="test_admin@$MYHOSTNAME"
non_default_admin_email_zonemgr="test_admin.$MYHOSTNAME."

#forwarder check
good_ping="--- redhat.com ping statistics ---"
bad_ping="ping: unknown host redhat.com"


hname=`echo $HOSTNAME | cut -d "." -f1 | xargs echo`
hosts_newip="$NEWIPADDRESS$HOSTNAME$hname"
resolv_newip="nameserver$NEWIPADDRESS"

cert_subject="O=CUPCAKE"
default_subject="O=$RELM"
realm_subject="O=$myrealm"

# User used in these tests
testuser="TestUser"
testpwd="TestPassword"
