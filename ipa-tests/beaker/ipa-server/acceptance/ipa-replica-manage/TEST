       Manages the replication agreements of an IPA server.

       connect [SERVER_A] <SERVER_B>
              - Adds a new replication agreement between SERVER_A/localhost and SERVER_B

       disconnect [SERVER_A] <SERVER_B>
              - Removes a replication agreement between SERVER_A/localhost and SERVER_B

       del <SERVER>
              - Removes all replication agreements and data about SERVER

       list [SERVER]
              - Lists all the servers or the list of agreements of SERVER

       re-initialize
              -  Forces a full re-initialization of the IPA server retrieving data from the server speci-
              fied with the --from option

       force-sync
              - Immediately flush any data to be replicated from  a  server  specified  with  the  --from
              option

irm_list_positive
	list m-s1 
    list m-s2
    list -H s1 m-s1
    list -H s2 m-s2

irm_list_negative
   	list !s1-s2 
    list dne.$DOMAIN
    list -H s1 !s1-s2

irm_connect_positive
	connect s1-s2

irm_connect_negative
	connect m-dne

irm_forcesync_positive
	force-sync s1 # on master
    force-sync s2 # on s1
	force-sync m  # on s2

irm_forcesync_negative
	force-sync --from=m 
	force-sync --from=dne.$DOMAIN

irm_reinitialize_positive
    re-initialize s1 # on master
	re-initialize s2 # on s1
    re-initialize m  # on s2

irm_reinitialize_negative
	re-initialize --from=m 
    re-initialize --from=dne.$DOMAIN

irm_disconnect_positive
	disconnect s1 s2

irm_disconnect_negative
	disconnect s1 s2 # again should fail
    disconnect m dne.$DOMAIN

irm_del_positive
	del s2 

irm_del_negative
	del s2 # again should fail
	del dne.$DOMAIN
