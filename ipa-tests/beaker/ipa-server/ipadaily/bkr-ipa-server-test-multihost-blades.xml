<job>
	<notify>
		<cc>mgregg@redhat.com</cc>
		<cc>jgalipea@redhat.com</cc>
		<cc>yzhang@redhat.com</cc>
	</notify>

	<whiteboard>
		ipa-server x86_64 daily multihost 
	</whiteboard>
	<recipeSet>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="MASTER" whiteboard="IPA MASTER SERVER">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>
			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_arch op="=" value="x86_64"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>
			<hostRequires/>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-host-cli" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-hostgroup-cli" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/adduser" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/moduser" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/nis-cli" role="MASTER">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/uninstall" role="STANDALONE">
				<params/>
			</task>

		</recipe>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="SLAVE" whiteboard="IPA REPLICA SERVER">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>
			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_arch op="=" value="x86_64"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>

			<hostRequires/>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="SLAVE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-host-cli" role="SLAVE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-hostgroup-cli" role="SLAVE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/adduser" role="SLAVE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/moduser" role="SLAVE">
				<params/>
			</task>

			<task name="/CoreOS/ipa-server/acceptance/nis-cli" role="SLAVE">
				<params/>
			</task>

			<task name="/CoreOS/ipa-server/acceptance/uninstall" role="STANDALONE">
				<params/>
			</task>

		</recipe>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="CLIENT" whiteboard="IPA CLIENT">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>
			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_arch op="=" value="x86_64"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>

			<hostRequires/>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="CLIENT">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-host-cli" role="CLIENT">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-hostgroup-cli" role="CLIENT">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/adduser" role="CLIENT">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/ipa-user-cli/moduser" role="CLIENT">
				<params/>
			</task>

			<task name="/CoreOS/ipa-server/acceptance/nis-cli" role="CLIENT">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/uninstall" role="STANDALONE">
				<params/>
			</task>

		</recipe>

	</recipeSet>
</job>

