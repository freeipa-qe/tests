<job>
	<whiteboard>
		ipa-server x86_64 RHEL6 multihost(master, slave, client) on pool machines
	</whiteboard>
	<recipeSet>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="MASTER" whiteboard="">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>

			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_arch op="=" value="x86_64"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>
			<hostRequires>
				<and/>
			</hostRequires>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="MASTER">
				<params/>
			</task>
		</recipe>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="SLAVE" whiteboard="">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>

			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_arch op="=" value="x86_64"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>
			<hostRequires>
				<and/>
			</hostRequires>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="SLAVE">
				<params/>
			</task>
		</recipe>
		<recipe kernel_options="" kernel_options_post="" ks_meta="" role="CLIENT" whiteboard="">
			<watchdog/>
			<packages/>
			<ks_appends/>
			<repos>
				<repo name="ipa" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/x86_64"/>
				<repo name="ipa-noarch" url="http://mickey.dsdev.sjc.redhat.com/repos/pki/ipa/devel/rhel6/devel_x86_64/noarch"/>
				<repo name="beaker-harness" url="https://beaker-devel.app.eng.bos.redhat.com/harness/RedHatEnterpriseLinux6/x86_64"/>
			</repos>
			<distroRequires>
				<and>
					<distro_variant op="=" value="Server"/>
					<distro_family op="=" value="RedHatEnterpriseLinux6"/>
					<distro_method op="=" value="nfs"/>
					<distro_tag op="=" value="STABLE"/>
					<distro_arch op="=" value="x86_64"/>
				</and>
				<distro_virt op="=" value=""/>
			</distroRequires>
			<hostRequires>
				<and/>
			</hostRequires>
			<partitions/>
			<task name="/distribution/install" role="STANDALONE">
				<params/>
			</task>
			<task name="/distribution/pkginstall" role="STANDALONE">
				<params>
					<param name="PKGARGNAME" value="ipa-server ipa-client ipa-admintools ds-replication dsbind caching-nameserver expect krb5-workstation bind-dyndb-ldap ntpdate krb5-pkinit-openssl rhts-test-env"/>
				</params>
			</task>

			<task name="/CoreOS/ipa-server/shared" role="STANDALONE">
				<params/>
			</task>
			<task name="/CoreOS/ipa-server/acceptance/quickinstall" role="CLIENT">
				<params/>
			</task>
		</recipe>

	</recipeSet>
</job>

